# Twilio Conversations Chat Client

–ü—Ä–æ—Å—Ç–∏–π React –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è Twilio Conversations. –î–æ–∑–≤–æ–ª—è—î –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ Twilio Conversations —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏/–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `.env.example`:

```bash
cp .env.example .env
```

–ó–∞–ø–æ–≤–Ω—ñ—Ç—å `.env` —Ñ–∞–π–ª –≤–∞—à–∏–º–∏ Twilio credentials:

```env
VITE_NODE_JS_MICROSERVICE_BACKEND_URL=http://localhost:3001
VITE_USER_IDENTITY=user_123
VITE_CONVERSATION_SID=CHxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

**–í–∞–∂–ª–∏–≤–æ:** –î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—É –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω backend API. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤–∞—à —ñ—Å–Ω—É—é—á–∏–π –ø—Ä–æ—î–∫—Ç `inmate-photos-chatbot`, —è–∫–∏–π –º–∞—î endpoint `/api/twilio/token`.

### 3. –ó–∞–ø—É—Å–∫ –¥–æ–¥–∞—Ç–∫—É

```bash
npm run dev
```

–î–æ–¥–∞—Ç–æ–∫ –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ `http://localhost:5173`

## üìã –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Backend API (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∞—à backend (`inmate-photos-chatbot`) –∑–∞–ø—É—â–µ–Ω–∏–π –Ω–∞ `http://localhost:3001`
2. –£ –¥–æ–¥–∞—Ç–∫—É –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –ø—Ä–∞–ø–æ—Ä–µ—Ü—å "Use Backend API"
3. –í–≤–µ–¥—ñ—Ç—å –≤–∞—à User Identity
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Connect"

Backend –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≥–µ–Ω–µ—Ä—É—î —Ç–æ–∫–µ–Ω –¥–ª—è –≤–∞—Å.

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –†—É—á–Ω–µ –≤–≤–µ–¥–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω—É

1. –û—Ç—Ä–∏–º–∞–π—Ç–µ Twilio Access Token –∑ –≤–∞—à–æ–≥–æ backend:
   ```bash
   curl http://localhost:3001/api/twilio/token?identity=user_123
   ```
2. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–æ–∫–µ–Ω –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
3. –í—Å—Ç–∞–≤—Ç–µ —Ç–æ–∫–µ–Ω —É –ø–æ–ª–µ "Twilio Token"
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Connect"

### –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

–ü—ñ—Å–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:
- –í–≤–µ–¥—ñ—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –ø–æ–ª–µ –≤–Ω–∏–∑—É
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Send" –∞–±–æ Enter
- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑'—è–≤–∏—Ç—å—Å—è –≤ —á–∞—Ç—ñ

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Backend

–Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ backend –∑ –ø—Ä–æ—î–∫—Ç—É `inmate-photos-chatbot`, –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ:

1. Backend –∑–∞–ø—É—â–µ–Ω–∏–π –Ω–∞ –ø–æ—Ä—Ç—É 3001
2. Endpoint `/api/twilio/token` –ø—Ä–∞—Ü—é—î —Ç–∞ –ø—Ä–∏–π–º–∞—î –ø–∞—Ä–∞–º–µ—Ç—Ä `identity`
3. Twilio credentials –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –≤ `.env` —Ñ–∞–π–ª—ñ backend

### –ü—Ä–∏–∫–ª–∞–¥ backend endpoint:

```typescript
// src/routes/twilio.routes.ts
router.get('/token', async (req: Request, res: Response) => {
  const identity = req.query.identity as string || 'user_' + Date.now();
  const token = twilioConversations.generateAccessToken(identity);
  res.json({ token, identity });
});
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
twilio-chat-client/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Chat.tsx          # –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —á–∞—Ç—É
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Chat.css           # –°—Ç–∏–ª—ñ —á–∞—Ç—É
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useTwilioConversation.ts  # –•—É–∫ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Twilio
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ twilioToken.ts     # –£—Ç–∏–ª—ñ—Ç–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ —Ç–æ–∫–µ–Ω–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx                # –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ main.tsx               # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îú‚îÄ‚îÄ .env.example               # –ü—Ä–∏–∫–ª–∞–¥ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
‚îî‚îÄ‚îÄ README.md                  # –¶–µ–π —Ñ–∞–π–ª
```

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **React 19** - UI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **TypeScript** - —Ç–∏–ø—ñ–∑–∞—Ü—ñ—è
- **Vite** - –∑–±—ñ—Ä—â–∏–∫
- **@twilio/conversations** - Twilio Conversations SDK

## üîê –ë–µ–∑–ø–µ–∫–∞

‚ö†Ô∏è **–í–∞–∂–ª–∏–≤–æ:** –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è Twilio —Ç–æ–∫–µ–Ω—ñ–≤ –ø–æ–≤–∏–Ω–Ω–∞ –≤—ñ–¥–±—É–≤–∞—Ç–∏—Å—è –Ω–∞ backend! –ù–µ –∑–±–µ—Ä—ñ–≥–∞–π—Ç–µ Twilio API credentials —É frontend –∫–æ–¥—ñ.

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

- –î–æ–¥–∞—Ç–æ–∫ –ø—ñ–¥—Ç—Ä–∏–º—É—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- –ü—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —ñ—Å–Ω—É—é—á–æ—ó conversation –∑–∞ SID
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–æ –Ω–æ–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

## üêõ –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ backend –∑–∞–ø—É—â–µ–Ω–∏–π
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å Twilio credentials
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ç–æ–∫–µ–Ω –Ω–µ –∑–∞—Å—Ç–∞—Ä—ñ–≤ (—Ç–æ–∫–µ–Ω–∏ –º–∞—é—Ç—å –æ–±–º–µ–∂–µ–Ω–∏–π —Ç–µ—Ä–º—ñ–Ω –¥—ñ—ó)

### –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –≤–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω—ñ –¥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó conversation
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ conversation SID –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- [Twilio Conversations SDK](https://www.twilio.com/docs/conversations/js)
- [Twilio Conversations API](https://www.twilio.com/docs/conversations/api)
